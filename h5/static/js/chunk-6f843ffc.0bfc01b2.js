(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f843ffc"],{"0e15":function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAAXNSR0IArs4c6QAAACFQTFRFAAAAmZmZmZmZmpqamZmZmJiYmpqamZmZmZmZmZmZmZmZj90NQwAAAAp0Uk5TAAV9fqChrq/y85vAgSoAAACVSURBVCjPY2AgAzBPFYAxGT0UgCTnqkSYgNiqCUCSZdUyqBLGrFUBECoRpgAiBaPhMjCGGFwvhIXQCmUiFEDYSAogSpAVgJQsr0JSAFaCooCBQXzVqkIGfAKMVatWLRdAUQA0tBBFQaE4shIQhxHJXqClhSBRuMViYNUIJRjeRw8gjCBkRQ5kB2zRwDwFEVGRBuRENQB0ZkRoxWocxwAAAABJRU5ErkJggg=="},"48fc":function(s,e,o){"use strict";o.r(e);var t=function(){var s=this,e=s._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"navheader borderbox",staticStyle:{"border-bottom":"none"}},[e("img",{staticClass:"back",attrs:{src:o("f508")},on:{click:function(e){return s.goBack()}}})]),e("div",{staticClass:"password-login-form"},[e("div",{staticClass:"password-login-title"},[s._v("登录")]),e("div",{staticClass:"item"},[e("div",{staticClass:"name"},[s._v("手机号")]),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordForm.mobile,expression:"passwordForm.mobile"}],staticClass:"input-text",attrs:{type:"number",placeholder:"请输入手机号码"},domProps:{value:s.passwordForm.mobile},on:{input:function(e){e.target.composing||s.$set(s.passwordForm,"mobile",e.target.value)}}}),e("img",{directives:[{name:"show",rawName:"v-show",value:s.passwordForm.mobile,expression:"passwordForm.mobile"}],staticStyle:{width:"16px",height:"16px"},attrs:{src:o("0e15")},on:{click:function(e){return s.clearMobile()}}})])]),e("div",{staticClass:"item"},[e("div",{staticClass:"name"},[s._v("密码")]),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordForm.password,expression:"passwordForm.password"}],staticClass:"input-text",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:s.passwordForm.password},on:{input:function(e){e.target.composing||s.$set(s.passwordForm,"password",e.target.value)}}}),e("img",{directives:[{name:"show",rawName:"v-show",value:s.passwordForm.password,expression:"passwordForm.password"}],staticStyle:{width:"16px",height:"16px"},attrs:{src:o("0e15")},on:{click:function(e){return s.clearPassword()}}})])])]),e("div",{staticClass:"box border-box mt-15 pl-60 pr-60"},[e("div",{staticClass:"btn-confirm",class:{active:s.passwordForm.mobile&&s.passwordForm.password},on:{click:s.passwordLoginHandler}},[s._v(" 登录 ")])]),s.visible?e("show-model",{attrs:{title:s.modelTitle,text:s.modelText,confirmText:s.confirmText},on:{change:s.confirmModel,cancel:s.cancelModel}}):s._e()],1)},i=[],a=(o("14d9"),o("2f62")),r=o("357c"),A={components:{ShowModel:r["a"]},data(){return{url:this.$route.query.url||null,passwordForm:{mobile:"",password:""},visible:!1,modelTitle:null,modelText:null,confirmText:null}},computed:{...Object(a["c"])(["config"])},methods:{...Object(a["b"])(["submitLogin","logout"]),cancelModel(){this.logout(),this.visible=!1,this.$router.replace({name:"Me"})},confirmModel(){this.visible=!1,"实名认证"===this.modelTitle?this.goFaceVerify():"绑定手机号"===this.modelTitle&&this.$router.push({name:"BindMobile"})},clearMobile(){this.passwordForm.mobile=null},clearPassword(){this.passwordForm.password=null},passwordLoginHandler(){this.passwordForm.mobile&&(this.$utils.isChinaMobilePhone(this.passwordForm.mobile)?this.passwordForm.password&&this.$api.Auth.PasswordLogin({mobile:this.passwordForm.mobile,password:this.passwordForm.password}).then(s=>{this.$utils.saveToken(s.data.token),this.$api.User.Detail().then(s=>{this.submitLogin(s.data),1===this.config.member.enabled_mobile_bind_alert&&1!==s.data.is_bind_mobile?(this.modelTitle="绑定手机号",this.modelText="登录前请绑定手机号",this.confirmText="立即绑定",this.visible=!0):!1===s.data.is_face_verify&&!0===this.config.member.enabled_face_verify?(this.modelTitle="实名认证",this.modelText="登录前请完成实名认证",this.confirmText="立即认证",this.visible=!0):this.$router.go(-2)})}).catch(s=>{this.$message.error(s.message)}):this.$message.error("请输入正确的手机号"))},goFaceVerify(){let s=this.$utils.getHost()+"/auth/faceSuccess";this.$api.Member.TecentFaceVerify({s_url:s}).then(s=>{this.$utils.saveBizToken(s.data.biz_token),this.$utils.saveRuleId(s.data.rule_id),window.location.href=s.data.url}).catch(s=>{this.$message.error(s.message||"无法发起实名认证")})}}},l=A,n=(o("58f3"),o("54c7"),o("2877")),c=Object(n["a"])(l,t,i,!1,null,"cebac9f4",null);e["default"]=c.exports},"4e78":function(s,e,o){},"54c7":function(s,e,o){"use strict";o("ce4d")},"58f3":function(s,e,o){"use strict";o("4e78")},ce4d:function(s,e,o){},f508:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAAEi6oPRAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACz+WTVAAADyUlEQVR4Ae2cPa4TMRCAXxIkoERCAgk6ChSlgSNQAKJCQkrCAZCQKDlBWm7wKF6fn4bQ8Ro4Ak1ugKCDEoSUhJlHRjIre3dsz2zsxSs9Nrv2zH7+1tn1/oSTk5hpOp2+qo0fj8d7nQr92rSuwkYeCmRXpIAW5o1MwRX+Q5mO/YUKGzU6Yi9WdyBBtXnRTcovYZW4A8uwF9+6mtFzFVTXTyaTn/v9/gqsv7xarX5Xy1kHEkrS7/cf25Jg0kYiM8lisTivktBybSJukloinyTORL5JMJFVNu6dXq/3q84JBpuTNRHuHUyGZGblus9O2TBQeLTb7T4g2XK5vFqXBMucibDQJ1ltIp9kjYm4yayyMdiccO/RDoAv7j2zrHzO1wCrF4U0j44fGDsYDG7N5/OvnDyXOJV86hAIHDouwrAXc2EwQMwQgRA8gvgcFCkuGkgKJBpIGiQYSAvEGwhAvkNHvUaBoX2E4l1z1jEfg+H8+NxMAnBrc1nqs3enpnMuAXBP5FS/ae4NRAm1wIKBtMCigaTBxICkwMSBbGBwwaK2HdpemRcDxQDXgNrXES687gLEm9Fo9Gw2m+24QOJjatyweZ7bbDZbWMVuOHv4wW2hCXOI+cKNxXpsck7SKkzI0EQMSAJGzJAUjAiQJEw0kDRMFJAGTDCQFkwQkCaMN5A2jBdQGzBsIDhR3oTK3zAAp5Aj8N/I5n9Z5zK4jn9qpgKgf5bNstjP7FOH9l0PaggbCAPagPICagPKG0gbKghIEyoYSAsqCkgDKhpIGkoESBJKDEgKShTIBgUPXh7As45PWMaZWOcyTiKqg49W8eRLy9vt9iN95szFgXCjh+e99BD5jANS6hQDxUAxUAwUA10wID700JZyuL/wDrZjvqx1Bo+/XmhsOxtBKAafysMfvgVpm+6DpM+2gph1Kg8VYoCqsSQGXvOzisFxKdyXeQIDZHE5yJJsDyIxrh6DYvAGVcjLSdWdULecnKBUxJC0ZASlJiYZQamKObqg1MUcTVAuYloXlJuY1gTlKkZdUO5i1ATB48+HMIB7f+wBHjUwdi46DoJe8xIuCU5tUG2NfG3bjlknepsc5KxBxA8bEPYo+FvjV89Wnuo60R5EjezK8QfboyKoS6JUBXVBVCuCchbVqqAcRR1FUE6ijiooB1FJCEpZVFKCUhSVpKCURCUtiCsK6uHPQ+64/rMPyhMyF70WCwHgxOCjHXwNCn9fjBe9lpjb8PLYdcv66FVZ9KBqKw8/vXoN62+AtPPhcHjq8xOsar6yXAwUA8VAqgb+AEqzClcpkwbAAAAAAElFTkSuQmCC"}}]);
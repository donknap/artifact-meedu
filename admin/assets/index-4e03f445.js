import{u as P,r as a,h as g,a as A,t as O,j as t,aR as z}from"./index-e664e6dc.js";import{c as B,D as I}from"./index-40f4a7f7.js";import{R as x}from"./index-fa5b0e30.js";import{T as G}from"./Table-ee9d831a.js";import{I as K}from"./InfoCircleOutlined-e72834c1.js";import"./addEventListener-263e58b1.js";import"./useIcons-0af35028.js";import"./CheckOutlined-f7d7f4b2.js";import"./Pagination-2f0e5cb7.js";import"./LeftOutlined-feda539a.js";import"./useForceUpdate-932ad153.js";import"./responsiveObserver-8e0341fc.js";import"./index-640f3908.js";import"./iconUtil-a09ccdfb.js";const U="_el_content_st28n_1",V="_el_top_row1_st28n_9",W="_el_row_item_st28n_16",Z="_header_st28n_30",o={el_content:U,el_top_row1:V,el_row_item:W,header:Z},ie=()=>{const j=P(),[d,r]=a.useState(!1),[i,p]=a.useState(1),[l,y]=a.useState(10),[S,v]=a.useState(0),[w,C]=a.useState([]),[m,T]=a.useState(!1),[c,k]=a.useState("COURSE"),[h,E]=a.useState(g().subtract(6,"days").format("YYYY-MM-DD")),[u,N]=a.useState(g().add(1,"days").format("YYYY-MM-DD")),[_,b]=a.useState([]),n=A(e=>e.enabledAddonsConfig.value.enabledAddons);a.useEffect(()=>{document.title="商品数据",j(O("商品数据"))},[]),a.useEffect(()=>{D()},[i,l,h,u,c,m]),a.useEffect(()=>{let e=[{name:"录播课",key:"COURSE"}];n.Zhibo&&e.push({name:"直播课",key:"直播课程"}),n.MeeduBooks&&e.push({name:"电子书",key:"BOOK"}),n.MeeduTopics&&e.push({name:"图文",key:"文章"}),n.LearningPaths&&e.push({name:"学习路径",key:"学习路径"}),e.push({name:"VIP会员",key:"ROLE"}),b(e)},[n]);const f=e=>{p(e),T(!m)},D=()=>{d||(r(!0),B({page:i,size:l,start_at:h,end_at:u,goods_type:c}).then(e=>{C(e.data.data),v(e.data.total),r(!1)}).catch(e=>{r(!1)}))},L=(e,s)=>{E(e),N(s),f(1)},R={current:i,pageSize:l,total:S,onChange:(e,s)=>Y(e,s),showSizeChanger:!0},Y=(e,s)=>{p(e),y(s)},M=[{title:t.jsxs("div",{className:"d-flex",children:[t.jsx("span",{className:"mr-5",children:"Top10销售额"}),t.jsx(z,{placement:"rightTop",title:"团购秒杀活动销量不计入此列表统计",children:t.jsx(K,{})})]}),render:(e,s)=>t.jsx("span",{children:s.goods_name})},{title:"支付订单数",width:250,render:(e,s)=>t.jsx("span",{children:s.orders_count})},{title:"支付总金额",width:250,render:(e,s)=>t.jsx("span",{children:s.orders_paid_sum})}];return t.jsx("div",{className:o.el_content,children:t.jsx("div",{className:o.el_top_row1,children:t.jsxs("div",{className:o.el_row_item,children:[t.jsxs("div",{className:o.header,children:[t.jsx("div",{className:o.tabs,children:t.jsx(x.Group,{size:"large",defaultValue:c,buttonStyle:"solid",onChange:e=>{k(e.target.value),f(1)},children:_.length>0&&_.map(e=>t.jsx(x.Button,{value:e.key,children:e.name},e.key))})}),t.jsx("div",{className:o.controls,children:t.jsx(I,{active:!0,onChange:(e,s)=>{L(e,s)}})})]}),t.jsx("div",{className:"float-left mt-15",children:t.jsx(G,{loading:d,columns:M,dataSource:w,rowKey:e=>e.id,pagination:R})})]})})})};export{ie as default};

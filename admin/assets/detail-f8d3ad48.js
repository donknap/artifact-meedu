import{f as v,u as S,r as s,t as b,j as t,d as w}from"./index-e664e6dc.js";import{e as D}from"./tuangou-f720b3ad.js";import{B as E}from"./index-6997ccbf.js";import{T as m}from"./Table-ee9d831a.js";import"./LeftOutlined-feda539a.js";import"./addEventListener-263e58b1.js";import"./useIcons-0af35028.js";import"./CheckOutlined-f7d7f4b2.js";import"./Pagination-2f0e5cb7.js";import"./useForceUpdate-932ad153.js";import"./responsiveObserver-8e0341fc.js";import"./index-640f3908.js";import"./index-fa5b0e30.js";import"./iconUtil-a09ccdfb.js";const H=()=>{const i=new URLSearchParams(v().search),u=S(),[r,d]=s.useState(!1),[T,f]=s.useState([]),[o,h]=s.useState([]),[_,p]=s.useState([]),[x,L]=s.useState(!1),[l,j]=s.useState(Number(i.get("id"))),[c,g]=s.useState(Number(i.get("tid")));s.useEffect(()=>{document.title="团列表详情",u(b("团列表详情"))},[]),s.useEffect(()=>{j(Number(i.get("id"))),g(Number(i.get("tid")))},[i.get("id"),i.get("tid")]),s.useEffect(()=>{N()},[l,c,x]);const N=()=>{r||(d(!0),D(l,c).then(e=>{f(e.data.item),h(e.data.users),p(e.data.goods),d(!1)}).catch(e=>{d(!1)}))},n=[{title:"ID",width:80,render:(e,a)=>t.jsx("span",{children:a.id})},{title:"团员",render:(e,a)=>t.jsxs(t.Fragment,{children:[a.user&&t.jsxs("div",{className:"user-item d-flex",children:[t.jsx("div",{className:"avatar",children:t.jsx("img",{src:a.user.avatar,width:"40",height:"40"})}),t.jsx("div",{className:"ml-10",children:a.user.nick_name})]}),!a.user&&t.jsx("span",{className:"c-red",children:"学员不存在"})]})},{title:"加入日期",width:300,render:(e,a)=>t.jsx("div",{children:w(a.created_at)})}];return t.jsxs("div",{className:"meedu-main-body",children:[t.jsx(E,{title:"团列表详情"}),t.jsxs("div",{className:"float-left",children:[t.jsx("div",{className:"float-left mt-30 mb-30",children:"已支付团员："}),t.jsx("div",{className:"float-left",children:t.jsx(m,{loading:r,columns:n,dataSource:o[1],rowKey:e=>e.id,pagination:!1})}),t.jsx("div",{className:"float-left mt-30 mb-30",children:"未支付团员："}),t.jsx("div",{className:"float-left",children:t.jsx(m,{loading:r,columns:n,dataSource:o[0],rowKey:e=>e.id,pagination:!1})})]})]})};export{H as default};

import{u as N,b as T,r as s,t as v,j as e,B as c,S as w,E as B,m as D,M as z}from"./index-e664e6dc.js";import{w as P,x as L}from"./member-2027a1b9.js";import{B as M}from"./index-6997ccbf.js";import{T as I}from"./Table-ee9d831a.js";import"./LeftOutlined-feda539a.js";import"./addEventListener-263e58b1.js";import"./useIcons-0af35028.js";import"./CheckOutlined-f7d7f4b2.js";import"./Pagination-2f0e5cb7.js";import"./useForceUpdate-932ad153.js";import"./responsiveObserver-8e0341fc.js";import"./index-640f3908.js";import"./index-fa5b0e30.js";import"./iconUtil-a09ccdfb.js";const{confirm:R}=z,Y=()=>{const p=N(),l=T(),[i,n]=s.useState(!1),[u,m]=s.useState([]),[r,f]=s.useState(1),[o,h]=s.useState(10),[g,x]=s.useState(0),[d,j]=s.useState(!1);s.useEffect(()=>{document.title="标签管理",p(v("标签管理"))},[]),s.useEffect(()=>{S()},[r,o,d]);const S=()=>{i||(n(!0),P({page:r,size:o}).then(t=>{m(t.data.data),x(t.data.total),n(!1)}).catch(t=>{n(!1)}))},y={current:r,pageSize:o,total:g,onChange:(t,a)=>C(t,a),showSizeChanger:!0},C=(t,a)=>{f(t),h(a)},k=[{title:"ID",width:120,render:(t,a)=>e.jsx("span",{children:a.id})},{title:"标签名",dataIndex:"name",render:t=>e.jsx("span",{children:t})},{title:"操作",width:130,render:(t,a)=>e.jsxs(w,{children:[e.jsx(c,{type:"link",className:"c-primary",onClick:()=>{l("/member/tag/update?id="+a.id)},children:"编辑"}),e.jsx(c,{type:"link",className:"c-red",onClick:()=>{E(a.id)},children:"编辑"})]})}],b=()=>{m([]),j(!d)},E=t=>{t!==0&&R({title:"操作确认",icon:e.jsx(B,{}),content:"确认删除此标签？",centered:!0,okText:"确认",cancelText:"取消",onOk(){i||(n(!0),L(t).then(()=>{n(!1),D.success("删除成功"),b()}).catch(a=>{n(!1)}))},onCancel(){console.log("Cancel")}})};return e.jsxs("div",{className:"meedu-main-body",children:[e.jsx(M,{title:"标签管理"}),e.jsx("div",{className:"float-left  mt-30 mb-30",children:e.jsx(c,{type:"primary",onClick:()=>l("/member/tag/create"),children:"添加标签"})}),e.jsx("div",{className:"float-left",children:e.jsx(I,{loading:i,columns:k,dataSource:u,rowKey:t=>t.id,pagination:y})})]})};export{Y as default};

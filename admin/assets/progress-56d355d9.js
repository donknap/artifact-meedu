import{f as x,u as j,r as i,t as _,j as t}from"./index-e664e6dc.js";import{g as b}from"./practice-47d493a3.js";import{B as S}from"./index-6997ccbf.js";import{T as N}from"./Table-ee9d831a.js";import"./LeftOutlined-feda539a.js";import"./addEventListener-263e58b1.js";import"./useIcons-0af35028.js";import"./CheckOutlined-f7d7f4b2.js";import"./Pagination-2f0e5cb7.js";import"./useForceUpdate-932ad153.js";import"./responsiveObserver-8e0341fc.js";import"./index-640f3908.js";import"./index-fa5b0e30.js";import"./iconUtil-a09ccdfb.js";const I=()=>{const r=new URLSearchParams(x().search),d=j(),[n,a]=i.useState(!1),[m,u]=i.useState([]),[l,P]=i.useState(!1),[o,p]=i.useState(Number(r.get("id"))),[c,f]=i.useState(Number(r.get("pid")));i.useEffect(()=>{document.title="练习进度",d(_("练习进度"))},[]),i.useEffect(()=>{p(Number(r.get("id"))),f(Number(r.get("pid")))},[r.get("id"),r.get("pid")]),i.useEffect(()=>{h()},[o,c,l]);const h=()=>{n||(a(!0),b(o,c).then(s=>{u(s.data.data),a(!1)}).catch(s=>{a(!1)}))},g=[{title:"章节",render:(s,e)=>t.jsx("span",{children:e.chapter_name})},{title:"题目数",width:150,render:(s,e)=>t.jsxs("span",{children:[e.question_count,"题"]})},{title:"已练习",width:150,render:(s,e)=>t.jsxs("span",{children:[e.submit_count,"题"]})},{title:"进度",width:150,render:(s,e)=>t.jsx(t.Fragment,{children:e.question_count!==0?t.jsxs("span",{children:[(e.submit_count*100/e.question_count).toFixed(2),"%"]}):t.jsx("span",{children:"0.00%"})})}];return t.jsxs("div",{className:"meedu-main-body",children:[t.jsx(S,{title:"练习进度"}),t.jsx("div",{className:"float-left mt-30",children:t.jsx(N,{loading:n,columns:g,dataSource:m,rowKey:s=>s.id,pagination:!1})})]})};export{I as default};
